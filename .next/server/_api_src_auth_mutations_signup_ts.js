"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_api_src_auth_mutations_signup_ts";
exports.ids = ["_api_src_auth_mutations_signup_ts"];
exports.modules = {

/***/ "(api)/./src/auth/mutations/signup.ts":
/*!**************************************!*\
  !*** ./src/auth/mutations/signup.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @blitzjs/auth */ \"@blitzjs/auth\");\n/* harmony import */ var _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blitzjs/rpc */ \"@blitzjs/rpc\");\n/* harmony import */ var _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! db */ \"(api)/./db/index.ts\");\n/* harmony import */ var _validations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../validations */ \"(api)/./src/auth/validations.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_validations__WEBPACK_IMPORTED_MODULE_3__]);\n_validations__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst __internal_rpcHandler = _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__.resolver.pipe(_blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__.resolver.zod(_validations__WEBPACK_IMPORTED_MODULE_3__.Signup), async ({ email , password  }, ctx)=>{\n    const hashedPassword = await _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__.SecurePassword.hash(password.trim());\n    const user = await db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.create({\n        data: {\n            email: email.toLowerCase().trim(),\n            hashedPassword,\n            role: \"USER\"\n        },\n        select: {\n            id: true,\n            name: true,\n            email: true,\n            role: true\n        }\n    });\n    await ctx.session.$create({\n        userId: user.id,\n        role: user.role\n    });\n    return user;\n});\n__internal_rpcHandler._resolverName = \"signup\";\n__internal_rpcHandler._resolverType = \"mutation\";\n__internal_rpcHandler._routePath = \"/api/rpc/signup\";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__internal_rpcHandler);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvYXV0aC9tdXRhdGlvbnMvc2lnbnVwLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBOEM7QUFDUDtBQUNwQjtBQUVvQjtBQUV2QyxNQUFNSSxxQkFBcUIsR0FBR0gsdURBQWEsQ0FBQ0Esc0RBQVksQ0FBQ0UsZ0RBQU0sQ0FBQyxFQUFFLE9BQU8sRUFBRUksS0FBSyxHQUFFQyxRQUFRLEdBQUUsRUFBRUMsR0FBRyxHQUFLO0lBQ3BHLE1BQU1DLGNBQWMsR0FBRyxNQUFNViw4REFBbUIsQ0FBQ1EsUUFBUSxDQUFDSSxJQUFJLEVBQUUsQ0FBQztJQUNqRSxNQUFNQyxJQUFJLEdBQUcsTUFBTVgsc0RBQWMsQ0FBQztRQUNoQ2EsSUFBSSxFQUFFO1lBQUVSLEtBQUssRUFBRUEsS0FBSyxDQUFDUyxXQUFXLEVBQUUsQ0FBQ0osSUFBSSxFQUFFO1lBQUVGLGNBQWM7WUFBRU8sSUFBSSxFQUFFLE1BQU07U0FBRTtRQUN6RUMsTUFBTSxFQUFFO1lBQUVDLEVBQUUsRUFBRSxJQUFJO1lBQUVDLElBQUksRUFBRSxJQUFJO1lBQUViLEtBQUssRUFBRSxJQUFJO1lBQUVVLElBQUksRUFBRSxJQUFJO1NBQUU7S0FDMUQsQ0FBQztJQUVGLE1BQU1SLEdBQUcsQ0FBQ1ksT0FBTyxDQUFDQyxPQUFPLENBQUM7UUFBRUMsTUFBTSxFQUFFVixJQUFJLENBQUNNLEVBQUU7UUFBRUYsSUFBSSxFQUFFSixJQUFJLENBQUNJLElBQUk7S0FBVSxDQUFDO0lBQ3ZFLE9BQU9KLElBQUk7Q0FDWixDQUFDO0FBR0ZULHFCQUFxQixDQUFDb0IsYUFBYSxHQUFHLFFBQVE7QUFDOUNwQixxQkFBcUIsQ0FBQ3FCLGFBQWEsR0FBRyxVQUFVO0FBQ2hEckIscUJBQXFCLENBQUNzQixVQUFVLEdBQUcsaUJBQWlCO0FBRXBELGlFQUFldEIscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnVwaWZ5Ly4vc3JjL2F1dGgvbXV0YXRpb25zL3NpZ251cC50cz8wMGExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlY3VyZVBhc3N3b3JkIH0gZnJvbSBcIkBibGl0empzL2F1dGhcIlxuaW1wb3J0IHsgcmVzb2x2ZXIgfSBmcm9tIFwiQGJsaXR6anMvcnBjXCJcbmltcG9ydCBkYiBmcm9tIFwiZGJcIlxuaW1wb3J0IHsgUm9sZSB9IGZyb20gXCJ0eXBlc1wiXG5pbXBvcnQgeyBTaWdudXAgfSBmcm9tIFwiLi4vdmFsaWRhdGlvbnNcIlxuXG5jb25zdCBfX2ludGVybmFsX3JwY0hhbmRsZXIgPSByZXNvbHZlci5waXBlKHJlc29sdmVyLnpvZChTaWdudXApLCBhc3luYyAoeyBlbWFpbCwgcGFzc3dvcmQgfSwgY3R4KSA9PiB7XG4gIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgU2VjdXJlUGFzc3dvcmQuaGFzaChwYXNzd29yZC50cmltKCkpXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi51c2VyLmNyZWF0ZSh7XG4gICAgZGF0YTogeyBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCksIGhhc2hlZFBhc3N3b3JkLCByb2xlOiBcIlVTRVJcIiB9LFxuICAgIHNlbGVjdDogeyBpZDogdHJ1ZSwgbmFtZTogdHJ1ZSwgZW1haWw6IHRydWUsIHJvbGU6IHRydWUgfSxcbiAgfSlcblxuICBhd2FpdCBjdHguc2Vzc2lvbi4kY3JlYXRlKHsgdXNlcklkOiB1c2VyLmlkLCByb2xlOiB1c2VyLnJvbGUgYXMgUm9sZSB9KVxuICByZXR1cm4gdXNlclxufSlcblxuXG5fX2ludGVybmFsX3JwY0hhbmRsZXIuX3Jlc29sdmVyTmFtZSA9ICdzaWdudXAnXG5fX2ludGVybmFsX3JwY0hhbmRsZXIuX3Jlc29sdmVyVHlwZSA9ICdtdXRhdGlvbidcbl9faW50ZXJuYWxfcnBjSGFuZGxlci5fcm91dGVQYXRoID0gJy9hcGkvcnBjL3NpZ251cCdcblxuZXhwb3J0IGRlZmF1bHQgX19pbnRlcm5hbF9ycGNIYW5kbGVyIl0sIm5hbWVzIjpbIlNlY3VyZVBhc3N3b3JkIiwicmVzb2x2ZXIiLCJkYiIsIlNpZ251cCIsIl9faW50ZXJuYWxfcnBjSGFuZGxlciIsInBpcGUiLCJ6b2QiLCJlbWFpbCIsInBhc3N3b3JkIiwiY3R4IiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwidHJpbSIsInVzZXIiLCJjcmVhdGUiLCJkYXRhIiwidG9Mb3dlckNhc2UiLCJyb2xlIiwic2VsZWN0IiwiaWQiLCJuYW1lIiwic2Vzc2lvbiIsIiRjcmVhdGUiLCJ1c2VySWQiLCJfcmVzb2x2ZXJOYW1lIiwiX3Jlc29sdmVyVHlwZSIsIl9yb3V0ZVBhdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/auth/mutations/signup.ts\n");

/***/ }),

/***/ "(api)/./src/auth/validations.ts":
/*!*********************************!*\
  !*** ./src/auth/validations.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChangePassword\": () => (/* binding */ ChangePassword),\n/* harmony export */   \"ForgotPassword\": () => (/* binding */ ForgotPassword),\n/* harmony export */   \"Login\": () => (/* binding */ Login),\n/* harmony export */   \"ResetPassword\": () => (/* binding */ ResetPassword),\n/* harmony export */   \"Signup\": () => (/* binding */ Signup),\n/* harmony export */   \"email\": () => (/* binding */ email),\n/* harmony export */   \"password\": () => (/* binding */ password)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zod__WEBPACK_IMPORTED_MODULE_0__]);\nzod__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst email = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email().transform((str)=>str.toLowerCase().trim());\nconst password = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(10).max(100).transform((str)=>str.trim());\nconst Signup = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email,\n    password\n});\nconst Login = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email,\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n});\nconst ForgotPassword = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email\n});\nconst ResetPassword = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    password: password,\n    passwordConfirmation: password,\n    token: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n}).refine((data)=>data.password === data.passwordConfirmation, {\n    message: \"Passwords don't match\",\n    path: [\n        \"passwordConfirmation\"\n    ]\n});\nconst ChangePassword = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    currentPassword: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    newPassword: password\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvYXV0aC92YWxpZGF0aW9ucy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF1QjtBQUVoQixNQUFNQyxLQUFLLEdBQUdELHlDQUNaLEVBQUUsQ0FDUkMsS0FBSyxFQUFFLENBQ1BFLFNBQVMsQ0FBQyxDQUFDQyxHQUFHLEdBQUtBLEdBQUcsQ0FBQ0MsV0FBVyxFQUFFLENBQUNDLElBQUksRUFBRSxDQUFDO0FBRXhDLE1BQU1DLFFBQVEsR0FBR1AseUNBQ2YsRUFBRSxDQUNSUSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQ1BDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FDUk4sU0FBUyxDQUFDLENBQUNDLEdBQUcsR0FBS0EsR0FBRyxDQUFDRSxJQUFJLEVBQUUsQ0FBQztBQUUxQixNQUFNSSxNQUFNLEdBQUdWLHlDQUFRLENBQUM7SUFDN0JDLEtBQUs7SUFDTE0sUUFBUTtDQUNULENBQUM7QUFFSyxNQUFNSyxLQUFLLEdBQUdaLHlDQUFRLENBQUM7SUFDNUJDLEtBQUs7SUFDTE0sUUFBUSxFQUFFUCx5Q0FBUSxFQUFFO0NBQ3JCLENBQUM7QUFFSyxNQUFNYSxjQUFjLEdBQUdiLHlDQUFRLENBQUM7SUFDckNDLEtBQUs7Q0FDTixDQUFDO0FBRUssTUFBTWEsYUFBYSxHQUFHZCx5Q0FDcEIsQ0FBQztJQUNOTyxRQUFRLEVBQUVBLFFBQVE7SUFDbEJRLG9CQUFvQixFQUFFUixRQUFRO0lBQzlCUyxLQUFLLEVBQUVoQix5Q0FBUSxFQUFFO0NBQ2xCLENBQUMsQ0FDRGlCLE1BQU0sQ0FBQyxDQUFDQyxJQUFJLEdBQUtBLElBQUksQ0FBQ1gsUUFBUSxLQUFLVyxJQUFJLENBQUNILG9CQUFvQixFQUFFO0lBQzdESSxPQUFPLEVBQUUsdUJBQXVCO0lBQ2hDQyxJQUFJLEVBQUU7UUFBQyxzQkFBc0I7S0FBQztDQUMvQixDQUFDO0FBRUcsTUFBTUMsY0FBYyxHQUFHckIseUNBQVEsQ0FBQztJQUNyQ3NCLGVBQWUsRUFBRXRCLHlDQUFRLEVBQUU7SUFDM0J1QixXQUFXLEVBQUVoQixRQUFRO0NBQ3RCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ydXBpZnkvLi9zcmMvYXV0aC92YWxpZGF0aW9ucy50cz82OTg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcblxuZXhwb3J0IGNvbnN0IGVtYWlsID0gelxuICAuc3RyaW5nKClcbiAgLmVtYWlsKClcbiAgLnRyYW5zZm9ybSgoc3RyKSA9PiBzdHIudG9Mb3dlckNhc2UoKS50cmltKCkpXG5cbmV4cG9ydCBjb25zdCBwYXNzd29yZCA9IHpcbiAgLnN0cmluZygpXG4gIC5taW4oMTApXG4gIC5tYXgoMTAwKVxuICAudHJhbnNmb3JtKChzdHIpID0+IHN0ci50cmltKCkpXG5cbmV4cG9ydCBjb25zdCBTaWdudXAgPSB6Lm9iamVjdCh7XG4gIGVtYWlsLFxuICBwYXNzd29yZCxcbn0pXG5cbmV4cG9ydCBjb25zdCBMb2dpbiA9IHoub2JqZWN0KHtcbiAgZW1haWwsXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLFxufSlcblxuZXhwb3J0IGNvbnN0IEZvcmdvdFBhc3N3b3JkID0gei5vYmplY3Qoe1xuICBlbWFpbCxcbn0pXG5cbmV4cG9ydCBjb25zdCBSZXNldFBhc3N3b3JkID0gelxuICAub2JqZWN0KHtcbiAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgcGFzc3dvcmRDb25maXJtYXRpb246IHBhc3N3b3JkLFxuICAgIHRva2VuOiB6LnN0cmluZygpLFxuICB9KVxuICAucmVmaW5lKChkYXRhKSA9PiBkYXRhLnBhc3N3b3JkID09PSBkYXRhLnBhc3N3b3JkQ29uZmlybWF0aW9uLCB7XG4gICAgbWVzc2FnZTogXCJQYXNzd29yZHMgZG9uJ3QgbWF0Y2hcIixcbiAgICBwYXRoOiBbXCJwYXNzd29yZENvbmZpcm1hdGlvblwiXSwgLy8gc2V0IHRoZSBwYXRoIG9mIHRoZSBlcnJvclxuICB9KVxuXG5leHBvcnQgY29uc3QgQ2hhbmdlUGFzc3dvcmQgPSB6Lm9iamVjdCh7XG4gIGN1cnJlbnRQYXNzd29yZDogei5zdHJpbmcoKSxcbiAgbmV3UGFzc3dvcmQ6IHBhc3N3b3JkLFxufSlcbiJdLCJuYW1lcyI6WyJ6IiwiZW1haWwiLCJzdHJpbmciLCJ0cmFuc2Zvcm0iLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJwYXNzd29yZCIsIm1pbiIsIm1heCIsIlNpZ251cCIsIm9iamVjdCIsIkxvZ2luIiwiRm9yZ290UGFzc3dvcmQiLCJSZXNldFBhc3N3b3JkIiwicGFzc3dvcmRDb25maXJtYXRpb24iLCJ0b2tlbiIsInJlZmluZSIsImRhdGEiLCJtZXNzYWdlIiwicGF0aCIsIkNoYW5nZVBhc3N3b3JkIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/auth/validations.ts\n");

/***/ })

};
;