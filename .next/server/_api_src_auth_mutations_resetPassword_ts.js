"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_api_src_auth_mutations_resetPassword_ts";
exports.ids = ["_api_src_auth_mutations_resetPassword_ts"];
exports.modules = {

/***/ "(api)/./src/auth/mutations/login.ts":
/*!*************************************!*\
  !*** ./src/auth/mutations/login.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"authenticateUser\": () => (/* binding */ authenticateUser),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @blitzjs/auth */ \"@blitzjs/auth\");\n/* harmony import */ var _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blitzjs/rpc */ \"@blitzjs/rpc\");\n/* harmony import */ var _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var blitz__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! blitz */ \"blitz\");\n/* harmony import */ var blitz__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(blitz__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! db */ \"(api)/./db/index.ts\");\n/* harmony import */ var _validations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../validations */ \"(api)/./src/auth/validations.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_validations__WEBPACK_IMPORTED_MODULE_4__]);\n_validations__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nconst authenticateUser = async (rawEmail, rawPassword)=>{\n    const { email , password  } = _validations__WEBPACK_IMPORTED_MODULE_4__.Login.parse({\n        email: rawEmail,\n        password: rawPassword\n    });\n    const user = await db__WEBPACK_IMPORTED_MODULE_3__[\"default\"].user.findFirst({\n        where: {\n            email\n        }\n    });\n    if (!user) throw new blitz__WEBPACK_IMPORTED_MODULE_2__.AuthenticationError();\n    const result = await _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__.SecurePassword.verify(user.hashedPassword, password);\n    if (result === _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__.SecurePassword.VALID_NEEDS_REHASH) {\n        // Upgrade hashed password with a more secure hash\n        const improvedHash = await _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__.SecurePassword.hash(password);\n        await db__WEBPACK_IMPORTED_MODULE_3__[\"default\"].user.update({\n            where: {\n                id: user.id\n            },\n            data: {\n                hashedPassword: improvedHash\n            }\n        });\n    }\n    const { hashedPassword , ...rest } = user;\n    return rest;\n};\nconst __internal_rpcHandler = _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__.resolver.pipe(_blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__.resolver.zod(_validations__WEBPACK_IMPORTED_MODULE_4__.Login), async ({ email , password  }, ctx)=>{\n    // This throws an error if credentials are invalid\n    const user = await authenticateUser(email, password);\n    await ctx.session.$create({\n        userId: user.id,\n        role: user.role\n    });\n    return user;\n});\n__internal_rpcHandler._resolverName = \"login\";\n__internal_rpcHandler._resolverType = \"mutation\";\n__internal_rpcHandler._routePath = \"/api/rpc/login\";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__internal_rpcHandler);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvYXV0aC9tdXRhdGlvbnMvbG9naW4udHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUE4QztBQUNQO0FBQ0k7QUFDeEI7QUFFbUI7QUFFL0IsTUFBTUssZ0JBQWdCLEdBQUcsT0FBT0MsUUFBZ0IsRUFBRUMsV0FBbUIsR0FBSztJQUMvRSxNQUFNLEVBQUVDLEtBQUssR0FBRUMsUUFBUSxHQUFFLEdBQUdMLHFEQUFXLENBQUM7UUFBRUksS0FBSyxFQUFFRixRQUFRO1FBQUVHLFFBQVEsRUFBRUYsV0FBVztLQUFFLENBQUM7SUFDbkYsTUFBTUksSUFBSSxHQUFHLE1BQU1SLHlEQUFpQixDQUFDO1FBQUVVLEtBQUssRUFBRTtZQUFFTCxLQUFLO1NBQUU7S0FBRSxDQUFDO0lBQzFELElBQUksQ0FBQ0csSUFBSSxFQUFFLE1BQU0sSUFBSVQsc0RBQW1CLEVBQUU7SUFFMUMsTUFBTVksTUFBTSxHQUFHLE1BQU1kLGdFQUFxQixDQUFDVyxJQUFJLENBQUNLLGNBQWMsRUFBRVAsUUFBUSxDQUFDO0lBRXpFLElBQUlLLE1BQU0sS0FBS2QsNEVBQWlDLEVBQUU7UUFDaEQsa0RBQWtEO1FBQ2xELE1BQU1rQixZQUFZLEdBQUcsTUFBTWxCLDhEQUFtQixDQUFDUyxRQUFRLENBQUM7UUFDeEQsTUFBTU4sc0RBQWMsQ0FBQztZQUFFVSxLQUFLLEVBQUU7Z0JBQUVRLEVBQUUsRUFBRVYsSUFBSSxDQUFDVSxFQUFFO2FBQUU7WUFBRUMsSUFBSSxFQUFFO2dCQUFFTixjQUFjLEVBQUVFLFlBQVk7YUFBRTtTQUFFLENBQUM7S0FDekY7SUFFRCxNQUFNLEVBQUVGLGNBQWMsR0FBRSxHQUFHTyxJQUFJLEVBQUUsR0FBR1osSUFBSTtJQUN4QyxPQUFPWSxJQUFJO0NBQ1o7QUFFRCxNQUFNQyxxQkFBcUIsR0FBR3ZCLHVEQUFhLENBQUNBLHNEQUFZLENBQUNHLCtDQUFLLENBQUMsRUFBRSxPQUFPLEVBQUVJLEtBQUssR0FBRUMsUUFBUSxHQUFFLEVBQUVrQixHQUFHLEdBQUs7SUFDbkcsa0RBQWtEO0lBQ2xELE1BQU1oQixJQUFJLEdBQUcsTUFBTU4sZ0JBQWdCLENBQUNHLEtBQUssRUFBRUMsUUFBUSxDQUFDO0lBRXBELE1BQU1rQixHQUFHLENBQUNDLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO1FBQUVDLE1BQU0sRUFBRW5CLElBQUksQ0FBQ1UsRUFBRTtRQUFFVSxJQUFJLEVBQUVwQixJQUFJLENBQUNvQixJQUFJO0tBQVUsQ0FBQztJQUV2RSxPQUFPcEIsSUFBSTtDQUNaLENBQUM7QUFHRmEscUJBQXFCLENBQUNRLGFBQWEsR0FBRyxPQUFPO0FBQzdDUixxQkFBcUIsQ0FBQ1MsYUFBYSxHQUFHLFVBQVU7QUFDaERULHFCQUFxQixDQUFDVSxVQUFVLEdBQUcsZ0JBQWdCO0FBRW5ELGlFQUFlVixxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ydXBpZnkvLi9zcmMvYXV0aC9tdXRhdGlvbnMvbG9naW4udHM/NmE0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZWN1cmVQYXNzd29yZCB9IGZyb20gXCJAYmxpdHpqcy9hdXRoXCJcbmltcG9ydCB7IHJlc29sdmVyIH0gZnJvbSBcIkBibGl0empzL3JwY1wiXG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvbkVycm9yIH0gZnJvbSBcImJsaXR6XCJcbmltcG9ydCBkYiBmcm9tIFwiZGJcIlxuaW1wb3J0IHsgUm9sZSB9IGZyb20gXCJ0eXBlc1wiXG5pbXBvcnQgeyBMb2dpbiB9IGZyb20gXCIuLi92YWxpZGF0aW9uc1wiXG5cbmV4cG9ydCBjb25zdCBhdXRoZW50aWNhdGVVc2VyID0gYXN5bmMgKHJhd0VtYWlsOiBzdHJpbmcsIHJhd1Bhc3N3b3JkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IExvZ2luLnBhcnNlKHsgZW1haWw6IHJhd0VtYWlsLCBwYXNzd29yZDogcmF3UGFzc3dvcmQgfSlcbiAgY29uc3QgdXNlciA9IGF3YWl0IGRiLnVzZXIuZmluZEZpcnN0KHsgd2hlcmU6IHsgZW1haWwgfSB9KVxuICBpZiAoIXVzZXIpIHRocm93IG5ldyBBdXRoZW50aWNhdGlvbkVycm9yKClcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBTZWN1cmVQYXNzd29yZC52ZXJpZnkodXNlci5oYXNoZWRQYXNzd29yZCwgcGFzc3dvcmQpXG5cbiAgaWYgKHJlc3VsdCA9PT0gU2VjdXJlUGFzc3dvcmQuVkFMSURfTkVFRFNfUkVIQVNIKSB7XG4gICAgLy8gVXBncmFkZSBoYXNoZWQgcGFzc3dvcmQgd2l0aCBhIG1vcmUgc2VjdXJlIGhhc2hcbiAgICBjb25zdCBpbXByb3ZlZEhhc2ggPSBhd2FpdCBTZWN1cmVQYXNzd29yZC5oYXNoKHBhc3N3b3JkKVxuICAgIGF3YWl0IGRiLnVzZXIudXBkYXRlKHsgd2hlcmU6IHsgaWQ6IHVzZXIuaWQgfSwgZGF0YTogeyBoYXNoZWRQYXNzd29yZDogaW1wcm92ZWRIYXNoIH0gfSlcbiAgfVxuXG4gIGNvbnN0IHsgaGFzaGVkUGFzc3dvcmQsIC4uLnJlc3QgfSA9IHVzZXJcbiAgcmV0dXJuIHJlc3Rcbn1cblxuY29uc3QgX19pbnRlcm5hbF9ycGNIYW5kbGVyID0gcmVzb2x2ZXIucGlwZShyZXNvbHZlci56b2QoTG9naW4pLCBhc3luYyAoeyBlbWFpbCwgcGFzc3dvcmQgfSwgY3R4KSA9PiB7XG4gIC8vIFRoaXMgdGhyb3dzIGFuIGVycm9yIGlmIGNyZWRlbnRpYWxzIGFyZSBpbnZhbGlkXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGVVc2VyKGVtYWlsLCBwYXNzd29yZClcblxuICBhd2FpdCBjdHguc2Vzc2lvbi4kY3JlYXRlKHsgdXNlcklkOiB1c2VyLmlkLCByb2xlOiB1c2VyLnJvbGUgYXMgUm9sZSB9KVxuXG4gIHJldHVybiB1c2VyXG59KVxuXG5cbl9faW50ZXJuYWxfcnBjSGFuZGxlci5fcmVzb2x2ZXJOYW1lID0gJ2xvZ2luJ1xuX19pbnRlcm5hbF9ycGNIYW5kbGVyLl9yZXNvbHZlclR5cGUgPSAnbXV0YXRpb24nXG5fX2ludGVybmFsX3JwY0hhbmRsZXIuX3JvdXRlUGF0aCA9ICcvYXBpL3JwYy9sb2dpbidcblxuZXhwb3J0IGRlZmF1bHQgX19pbnRlcm5hbF9ycGNIYW5kbGVyIl0sIm5hbWVzIjpbIlNlY3VyZVBhc3N3b3JkIiwicmVzb2x2ZXIiLCJBdXRoZW50aWNhdGlvbkVycm9yIiwiZGIiLCJMb2dpbiIsImF1dGhlbnRpY2F0ZVVzZXIiLCJyYXdFbWFpbCIsInJhd1Bhc3N3b3JkIiwiZW1haWwiLCJwYXNzd29yZCIsInBhcnNlIiwidXNlciIsImZpbmRGaXJzdCIsIndoZXJlIiwicmVzdWx0IiwidmVyaWZ5IiwiaGFzaGVkUGFzc3dvcmQiLCJWQUxJRF9ORUVEU19SRUhBU0giLCJpbXByb3ZlZEhhc2giLCJoYXNoIiwidXBkYXRlIiwiaWQiLCJkYXRhIiwicmVzdCIsIl9faW50ZXJuYWxfcnBjSGFuZGxlciIsInBpcGUiLCJ6b2QiLCJjdHgiLCJzZXNzaW9uIiwiJGNyZWF0ZSIsInVzZXJJZCIsInJvbGUiLCJfcmVzb2x2ZXJOYW1lIiwiX3Jlc29sdmVyVHlwZSIsIl9yb3V0ZVBhdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/auth/mutations/login.ts\n");

/***/ }),

/***/ "(api)/./src/auth/mutations/resetPassword.ts":
/*!*********************************************!*\
  !*** ./src/auth/mutations/resetPassword.ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResetPasswordError\": () => (/* binding */ ResetPasswordError),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @blitzjs/auth */ \"@blitzjs/auth\");\n/* harmony import */ var _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blitzjs/rpc */ \"@blitzjs/rpc\");\n/* harmony import */ var _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! db */ \"(api)/./db/index.ts\");\n/* harmony import */ var _validations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../validations */ \"(api)/./src/auth/validations.ts\");\n/* harmony import */ var _login__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./login */ \"(api)/./src/auth/mutations/login.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_validations__WEBPACK_IMPORTED_MODULE_3__, _login__WEBPACK_IMPORTED_MODULE_4__]);\n([_validations__WEBPACK_IMPORTED_MODULE_3__, _login__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nclass ResetPasswordError extends Error {\n    name = \"ResetPasswordError\";\n    message = \"Reset password link is invalid or it has expired.\";\n}\nconst __internal_rpcHandler = _blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__.resolver.pipe(_blitzjs_rpc__WEBPACK_IMPORTED_MODULE_1__.resolver.zod(_validations__WEBPACK_IMPORTED_MODULE_3__.ResetPassword), async ({ password , token  }, ctx)=>{\n    // 1. Try to find this token in the database\n    const hashedToken = (0,_blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__.hash256)(token);\n    const possibleToken = await db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].token.findFirst({\n        where: {\n            hashedToken,\n            type: \"RESET_PASSWORD\"\n        },\n        include: {\n            user: true\n        }\n    });\n    // 2. If token not found, error\n    if (!possibleToken) {\n        throw new ResetPasswordError();\n    }\n    const savedToken = possibleToken;\n    // 3. Delete token so it can't be used again\n    await db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].token[\"delete\"]({\n        where: {\n            id: savedToken.id\n        }\n    });\n    // 4. If token has expired, error\n    if (savedToken.expiresAt < new Date()) {\n        throw new ResetPasswordError();\n    }\n    // 5. Since token is valid, now we can update the user's password\n    const hashedPassword = await _blitzjs_auth__WEBPACK_IMPORTED_MODULE_0__.SecurePassword.hash(password.trim());\n    const user = await db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.update({\n        where: {\n            id: savedToken.userId\n        },\n        data: {\n            hashedPassword\n        }\n    });\n    // 6. Revoke all existing login sessions for this user\n    await db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].session.deleteMany({\n        where: {\n            userId: user.id\n        }\n    });\n    // 7. Now log the user in with the new credentials\n    await (0,_login__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n        email: user.email,\n        password\n    }, ctx);\n    return true;\n});\n__internal_rpcHandler._resolverName = \"resetPassword\";\n__internal_rpcHandler._resolverType = \"mutation\";\n__internal_rpcHandler._routePath = \"/api/rpc/resetPassword\";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__internal_rpcHandler);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvYXV0aC9tdXRhdGlvbnMvcmVzZXRQYXNzd29yZC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDaEI7QUFDcEI7QUFDMkI7QUFDbkI7QUFFcEIsTUFBTU0sa0JBQWtCLFNBQVNDLEtBQUs7SUFDM0NDLElBQUksR0FBRyxvQkFBb0I7SUFDM0JDLE9BQU8sR0FBRyxtREFBbUQ7Q0FDOUQ7QUFFRCxNQUFNQyxxQkFBcUIsR0FBR1IsdURBQWEsQ0FBQ0Esc0RBQVksQ0FBQ0UsdURBQWEsQ0FBQyxFQUFFLE9BQU8sRUFBRVMsUUFBUSxHQUFFQyxLQUFLLEdBQUUsRUFBRUMsR0FBRyxHQUFLO0lBQzNHLDRDQUE0QztJQUM1QyxNQUFNQyxXQUFXLEdBQUdmLHNEQUFPLENBQUNhLEtBQUssQ0FBQztJQUNsQyxNQUFNRyxhQUFhLEdBQUcsTUFBTWQsMERBQWtCLENBQUM7UUFDN0NnQixLQUFLLEVBQUU7WUFBRUgsV0FBVztZQUFFSSxJQUFJLEVBQUUsZ0JBQWdCO1NBQUU7UUFDOUNDLE9BQU8sRUFBRTtZQUFFQyxJQUFJLEVBQUUsSUFBSTtTQUFFO0tBQ3hCLENBQUM7SUFFRiwrQkFBK0I7SUFDL0IsSUFBSSxDQUFDTCxhQUFhLEVBQUU7UUFDbEIsTUFBTSxJQUFJWCxrQkFBa0IsRUFBRTtLQUMvQjtJQUNELE1BQU1pQixVQUFVLEdBQUdOLGFBQWE7SUFFaEMsNENBQTRDO0lBQzVDLE1BQU1kLDBEQUFlLENBQUM7UUFBRWdCLEtBQUssRUFBRTtZQUFFTSxFQUFFLEVBQUVGLFVBQVUsQ0FBQ0UsRUFBRTtTQUFFO0tBQUUsQ0FBQztJQUV2RCxpQ0FBaUM7SUFDakMsSUFBSUYsVUFBVSxDQUFDRyxTQUFTLEdBQUcsSUFBSUMsSUFBSSxFQUFFLEVBQUU7UUFDckMsTUFBTSxJQUFJckIsa0JBQWtCLEVBQUU7S0FDL0I7SUFFRCxpRUFBaUU7SUFDakUsTUFBTXNCLGNBQWMsR0FBRyxNQUFNNUIsOERBQW1CLENBQUNhLFFBQVEsQ0FBQ2lCLElBQUksRUFBRSxDQUFDO0lBQ2pFLE1BQU1SLElBQUksR0FBRyxNQUFNbkIsc0RBQWMsQ0FBQztRQUNoQ2dCLEtBQUssRUFBRTtZQUFFTSxFQUFFLEVBQUVGLFVBQVUsQ0FBQ1MsTUFBTTtTQUFFO1FBQ2hDQyxJQUFJLEVBQUU7WUFBRUwsY0FBYztTQUFFO0tBQ3pCLENBQUM7SUFFRixzREFBc0Q7SUFDdEQsTUFBTXpCLDZEQUFxQixDQUFDO1FBQUVnQixLQUFLLEVBQUU7WUFBRWEsTUFBTSxFQUFFVixJQUFJLENBQUNHLEVBQUU7U0FBRTtLQUFFLENBQUM7SUFFM0Qsa0RBQWtEO0lBQ2xELE1BQU1wQixrREFBSyxDQUFDO1FBQUUrQixLQUFLLEVBQUVkLElBQUksQ0FBQ2MsS0FBSztRQUFFdkIsUUFBUTtLQUFFLEVBQUVFLEdBQUcsQ0FBQztJQUVqRCxPQUFPLElBQUk7Q0FDWixDQUFDO0FBR0ZMLHFCQUFxQixDQUFDMkIsYUFBYSxHQUFHLGVBQWU7QUFDckQzQixxQkFBcUIsQ0FBQzRCLGFBQWEsR0FBRyxVQUFVO0FBQ2hENUIscUJBQXFCLENBQUM2QixVQUFVLEdBQUcsd0JBQXdCO0FBRTNELGlFQUFlN0IscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnVwaWZ5Ly4vc3JjL2F1dGgvbXV0YXRpb25zL3Jlc2V0UGFzc3dvcmQudHM/ZDAwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZWN1cmVQYXNzd29yZCwgaGFzaDI1NiB9IGZyb20gXCJAYmxpdHpqcy9hdXRoXCJcbmltcG9ydCB7IHJlc29sdmVyIH0gZnJvbSBcIkBibGl0empzL3JwY1wiXG5pbXBvcnQgZGIgZnJvbSBcImRiXCJcbmltcG9ydCB7IFJlc2V0UGFzc3dvcmQgfSBmcm9tIFwiLi4vdmFsaWRhdGlvbnNcIlxuaW1wb3J0IGxvZ2luIGZyb20gXCIuL2xvZ2luXCJcblxuZXhwb3J0IGNsYXNzIFJlc2V0UGFzc3dvcmRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgbmFtZSA9IFwiUmVzZXRQYXNzd29yZEVycm9yXCJcbiAgbWVzc2FnZSA9IFwiUmVzZXQgcGFzc3dvcmQgbGluayBpcyBpbnZhbGlkIG9yIGl0IGhhcyBleHBpcmVkLlwiXG59XG5cbmNvbnN0IF9faW50ZXJuYWxfcnBjSGFuZGxlciA9IHJlc29sdmVyLnBpcGUocmVzb2x2ZXIuem9kKFJlc2V0UGFzc3dvcmQpLCBhc3luYyAoeyBwYXNzd29yZCwgdG9rZW4gfSwgY3R4KSA9PiB7XG4gIC8vIDEuIFRyeSB0byBmaW5kIHRoaXMgdG9rZW4gaW4gdGhlIGRhdGFiYXNlXG4gIGNvbnN0IGhhc2hlZFRva2VuID0gaGFzaDI1Nih0b2tlbilcbiAgY29uc3QgcG9zc2libGVUb2tlbiA9IGF3YWl0IGRiLnRva2VuLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgaGFzaGVkVG9rZW4sIHR5cGU6IFwiUkVTRVRfUEFTU1dPUkRcIiB9LFxuICAgIGluY2x1ZGU6IHsgdXNlcjogdHJ1ZSB9LFxuICB9KVxuXG4gIC8vIDIuIElmIHRva2VuIG5vdCBmb3VuZCwgZXJyb3JcbiAgaWYgKCFwb3NzaWJsZVRva2VuKSB7XG4gICAgdGhyb3cgbmV3IFJlc2V0UGFzc3dvcmRFcnJvcigpXG4gIH1cbiAgY29uc3Qgc2F2ZWRUb2tlbiA9IHBvc3NpYmxlVG9rZW5cblxuICAvLyAzLiBEZWxldGUgdG9rZW4gc28gaXQgY2FuJ3QgYmUgdXNlZCBhZ2FpblxuICBhd2FpdCBkYi50b2tlbi5kZWxldGUoeyB3aGVyZTogeyBpZDogc2F2ZWRUb2tlbi5pZCB9IH0pXG5cbiAgLy8gNC4gSWYgdG9rZW4gaGFzIGV4cGlyZWQsIGVycm9yXG4gIGlmIChzYXZlZFRva2VuLmV4cGlyZXNBdCA8IG5ldyBEYXRlKCkpIHtcbiAgICB0aHJvdyBuZXcgUmVzZXRQYXNzd29yZEVycm9yKClcbiAgfVxuXG4gIC8vIDUuIFNpbmNlIHRva2VuIGlzIHZhbGlkLCBub3cgd2UgY2FuIHVwZGF0ZSB0aGUgdXNlcidzIHBhc3N3b3JkXG4gIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgU2VjdXJlUGFzc3dvcmQuaGFzaChwYXNzd29yZC50cmltKCkpXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi51c2VyLnVwZGF0ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IHNhdmVkVG9rZW4udXNlcklkIH0sXG4gICAgZGF0YTogeyBoYXNoZWRQYXNzd29yZCB9LFxuICB9KVxuXG4gIC8vIDYuIFJldm9rZSBhbGwgZXhpc3RpbmcgbG9naW4gc2Vzc2lvbnMgZm9yIHRoaXMgdXNlclxuICBhd2FpdCBkYi5zZXNzaW9uLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyB1c2VySWQ6IHVzZXIuaWQgfSB9KVxuXG4gIC8vIDcuIE5vdyBsb2cgdGhlIHVzZXIgaW4gd2l0aCB0aGUgbmV3IGNyZWRlbnRpYWxzXG4gIGF3YWl0IGxvZ2luKHsgZW1haWw6IHVzZXIuZW1haWwsIHBhc3N3b3JkIH0sIGN0eClcblxuICByZXR1cm4gdHJ1ZVxufSlcblxuXG5fX2ludGVybmFsX3JwY0hhbmRsZXIuX3Jlc29sdmVyTmFtZSA9ICdyZXNldFBhc3N3b3JkJ1xuX19pbnRlcm5hbF9ycGNIYW5kbGVyLl9yZXNvbHZlclR5cGUgPSAnbXV0YXRpb24nXG5fX2ludGVybmFsX3JwY0hhbmRsZXIuX3JvdXRlUGF0aCA9ICcvYXBpL3JwYy9yZXNldFBhc3N3b3JkJ1xuXG5leHBvcnQgZGVmYXVsdCBfX2ludGVybmFsX3JwY0hhbmRsZXIiXSwibmFtZXMiOlsiU2VjdXJlUGFzc3dvcmQiLCJoYXNoMjU2IiwicmVzb2x2ZXIiLCJkYiIsIlJlc2V0UGFzc3dvcmQiLCJsb2dpbiIsIlJlc2V0UGFzc3dvcmRFcnJvciIsIkVycm9yIiwibmFtZSIsIm1lc3NhZ2UiLCJfX2ludGVybmFsX3JwY0hhbmRsZXIiLCJwaXBlIiwiem9kIiwicGFzc3dvcmQiLCJ0b2tlbiIsImN0eCIsImhhc2hlZFRva2VuIiwicG9zc2libGVUb2tlbiIsImZpbmRGaXJzdCIsIndoZXJlIiwidHlwZSIsImluY2x1ZGUiLCJ1c2VyIiwic2F2ZWRUb2tlbiIsImRlbGV0ZSIsImlkIiwiZXhwaXJlc0F0IiwiRGF0ZSIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsInRyaW0iLCJ1cGRhdGUiLCJ1c2VySWQiLCJkYXRhIiwic2Vzc2lvbiIsImRlbGV0ZU1hbnkiLCJlbWFpbCIsIl9yZXNvbHZlck5hbWUiLCJfcmVzb2x2ZXJUeXBlIiwiX3JvdXRlUGF0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/auth/mutations/resetPassword.ts\n");

/***/ }),

/***/ "(api)/./src/auth/validations.ts":
/*!*********************************!*\
  !*** ./src/auth/validations.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChangePassword\": () => (/* binding */ ChangePassword),\n/* harmony export */   \"ForgotPassword\": () => (/* binding */ ForgotPassword),\n/* harmony export */   \"Login\": () => (/* binding */ Login),\n/* harmony export */   \"ResetPassword\": () => (/* binding */ ResetPassword),\n/* harmony export */   \"Signup\": () => (/* binding */ Signup),\n/* harmony export */   \"email\": () => (/* binding */ email),\n/* harmony export */   \"password\": () => (/* binding */ password)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zod__WEBPACK_IMPORTED_MODULE_0__]);\nzod__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst email = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email().transform((str)=>str.toLowerCase().trim());\nconst password = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(10).max(100).transform((str)=>str.trim());\nconst Signup = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email,\n    password\n});\nconst Login = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email,\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n});\nconst ForgotPassword = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email\n});\nconst ResetPassword = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    password: password,\n    passwordConfirmation: password,\n    token: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n}).refine((data)=>data.password === data.passwordConfirmation, {\n    message: \"Passwords don't match\",\n    path: [\n        \"passwordConfirmation\"\n    ]\n});\nconst ChangePassword = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    currentPassword: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    newPassword: password\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvYXV0aC92YWxpZGF0aW9ucy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF1QjtBQUVoQixNQUFNQyxLQUFLLEdBQUdELHlDQUNaLEVBQUUsQ0FDUkMsS0FBSyxFQUFFLENBQ1BFLFNBQVMsQ0FBQyxDQUFDQyxHQUFHLEdBQUtBLEdBQUcsQ0FBQ0MsV0FBVyxFQUFFLENBQUNDLElBQUksRUFBRSxDQUFDO0FBRXhDLE1BQU1DLFFBQVEsR0FBR1AseUNBQ2YsRUFBRSxDQUNSUSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQ1BDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FDUk4sU0FBUyxDQUFDLENBQUNDLEdBQUcsR0FBS0EsR0FBRyxDQUFDRSxJQUFJLEVBQUUsQ0FBQztBQUUxQixNQUFNSSxNQUFNLEdBQUdWLHlDQUFRLENBQUM7SUFDN0JDLEtBQUs7SUFDTE0sUUFBUTtDQUNULENBQUM7QUFFSyxNQUFNSyxLQUFLLEdBQUdaLHlDQUFRLENBQUM7SUFDNUJDLEtBQUs7SUFDTE0sUUFBUSxFQUFFUCx5Q0FBUSxFQUFFO0NBQ3JCLENBQUM7QUFFSyxNQUFNYSxjQUFjLEdBQUdiLHlDQUFRLENBQUM7SUFDckNDLEtBQUs7Q0FDTixDQUFDO0FBRUssTUFBTWEsYUFBYSxHQUFHZCx5Q0FDcEIsQ0FBQztJQUNOTyxRQUFRLEVBQUVBLFFBQVE7SUFDbEJRLG9CQUFvQixFQUFFUixRQUFRO0lBQzlCUyxLQUFLLEVBQUVoQix5Q0FBUSxFQUFFO0NBQ2xCLENBQUMsQ0FDRGlCLE1BQU0sQ0FBQyxDQUFDQyxJQUFJLEdBQUtBLElBQUksQ0FBQ1gsUUFBUSxLQUFLVyxJQUFJLENBQUNILG9CQUFvQixFQUFFO0lBQzdESSxPQUFPLEVBQUUsdUJBQXVCO0lBQ2hDQyxJQUFJLEVBQUU7UUFBQyxzQkFBc0I7S0FBQztDQUMvQixDQUFDO0FBRUcsTUFBTUMsY0FBYyxHQUFHckIseUNBQVEsQ0FBQztJQUNyQ3NCLGVBQWUsRUFBRXRCLHlDQUFRLEVBQUU7SUFDM0J1QixXQUFXLEVBQUVoQixRQUFRO0NBQ3RCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ydXBpZnkvLi9zcmMvYXV0aC92YWxpZGF0aW9ucy50cz82OTg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcblxuZXhwb3J0IGNvbnN0IGVtYWlsID0gelxuICAuc3RyaW5nKClcbiAgLmVtYWlsKClcbiAgLnRyYW5zZm9ybSgoc3RyKSA9PiBzdHIudG9Mb3dlckNhc2UoKS50cmltKCkpXG5cbmV4cG9ydCBjb25zdCBwYXNzd29yZCA9IHpcbiAgLnN0cmluZygpXG4gIC5taW4oMTApXG4gIC5tYXgoMTAwKVxuICAudHJhbnNmb3JtKChzdHIpID0+IHN0ci50cmltKCkpXG5cbmV4cG9ydCBjb25zdCBTaWdudXAgPSB6Lm9iamVjdCh7XG4gIGVtYWlsLFxuICBwYXNzd29yZCxcbn0pXG5cbmV4cG9ydCBjb25zdCBMb2dpbiA9IHoub2JqZWN0KHtcbiAgZW1haWwsXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLFxufSlcblxuZXhwb3J0IGNvbnN0IEZvcmdvdFBhc3N3b3JkID0gei5vYmplY3Qoe1xuICBlbWFpbCxcbn0pXG5cbmV4cG9ydCBjb25zdCBSZXNldFBhc3N3b3JkID0gelxuICAub2JqZWN0KHtcbiAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgcGFzc3dvcmRDb25maXJtYXRpb246IHBhc3N3b3JkLFxuICAgIHRva2VuOiB6LnN0cmluZygpLFxuICB9KVxuICAucmVmaW5lKChkYXRhKSA9PiBkYXRhLnBhc3N3b3JkID09PSBkYXRhLnBhc3N3b3JkQ29uZmlybWF0aW9uLCB7XG4gICAgbWVzc2FnZTogXCJQYXNzd29yZHMgZG9uJ3QgbWF0Y2hcIixcbiAgICBwYXRoOiBbXCJwYXNzd29yZENvbmZpcm1hdGlvblwiXSwgLy8gc2V0IHRoZSBwYXRoIG9mIHRoZSBlcnJvclxuICB9KVxuXG5leHBvcnQgY29uc3QgQ2hhbmdlUGFzc3dvcmQgPSB6Lm9iamVjdCh7XG4gIGN1cnJlbnRQYXNzd29yZDogei5zdHJpbmcoKSxcbiAgbmV3UGFzc3dvcmQ6IHBhc3N3b3JkLFxufSlcbiJdLCJuYW1lcyI6WyJ6IiwiZW1haWwiLCJzdHJpbmciLCJ0cmFuc2Zvcm0iLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJwYXNzd29yZCIsIm1pbiIsIm1heCIsIlNpZ251cCIsIm9iamVjdCIsIkxvZ2luIiwiRm9yZ290UGFzc3dvcmQiLCJSZXNldFBhc3N3b3JkIiwicGFzc3dvcmRDb25maXJtYXRpb24iLCJ0b2tlbiIsInJlZmluZSIsImRhdGEiLCJtZXNzYWdlIiwicGF0aCIsIkNoYW5nZVBhc3N3b3JkIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/auth/validations.ts\n");

/***/ })

};
;